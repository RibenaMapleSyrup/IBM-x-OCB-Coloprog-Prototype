{"version":3,"file":"scatter-chart.js","sourceRoot":"","sources":["src/scatter-chart.ts"],"names":[],"mappings":"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","sourcesContent":["// D3 Imports\nimport { select, mouse } from \"d3-selection\";\n\nimport { BaseAxisChart } from \"./base-axis-chart\";\nimport * as Configuration from \"./configuration\";\nimport { ChartConfig, ScatterChartOptions, ChartType } from \"./configuration\";\nimport { Tools } from \"./tools\";\n\nexport class ScatterChart extends BaseAxisChart {\n\toptions: ScatterChartOptions = Tools.merge({}, Configuration.options.SCATTER);\n\n\tconstructor(holder: Element, configs: ChartConfig<ScatterChartOptions>) {\n\t\tsuper(holder, configs);\n\n\t\tthis.options.type = ChartType.SCATTER;\n\t}\n\n\tdraw() {\n\t\tthis.innerWrap.style(\"width\", \"100%\")\n\t\t\t.style(\"height\", \"100%\");\n\n\t\tconst { line: margins } = Configuration.charts.margin;\n\n\t\tthis.innerWrap.style(\"width\", \"100%\").style(\"height\", \"100%\");\n\n\t\tthis.innerWrap.attr(\"transform\", `translate(${margins.left}, ${margins.top})`);\n\n\t\tconst gDots = this.innerWrap.selectAll(\"g.dots\")\n\t\t\t.data(this.displayData.datasets)\n\t\t\t.enter()\n\t\t\t\t.append(\"g\")\n\t\t\t\t.classed(\"dots\", true);\n\n\t\tconst circleRadius = this.getCircleRadius();\n\t\tgDots.selectAll(\"circle.dot\")\n\t\t\t.data((d, i) => this.addLabelsToDataPoints(d, i))\n\t\t\t.enter()\n\t\t\t\t.append(\"circle\")\n\t\t\t\t.attr(\"class\", \"dot\")\n\t\t\t\t.attr(\"cx\", d => this.x(d.label) + this.x.step() / 2)\n\t\t\t\t.attr(\"cy\", d => this.y(d.value))\n\t\t\t\t.attr(\"r\", circleRadius)\n\t\t\t\t.attr(\"fill\", d => this.getCircleFill(circleRadius, d))\n\t\t\t\t.attr(\"fill-opacity\", d => this.getCircleFillOpacity())\n\t\t\t\t.attr(\"stroke\", d => this.getStrokeColor(d.datasetLabel, d.label, d.value));\n\n\t\t// Hide the overlay\n\t\tthis.chartOverlay.hide();\n\n\t\t// Dispatch the load event\n\t\tthis.dispatchEvent(\"load\");\n\t}\n\n\tgetLegendType() {\n\t\treturn Configuration.legend.basedOn.SERIES;\n\t}\n\n\taddLabelsToDataPoints(d, index) {\n\t\tconst { labels } = this.displayData;\n\n\t\treturn d.data.map((datum, i) => ({\n\t\t\tlabel: labels[i],\n\t\t\tdatasetLabel: d.label,\n\t\t\tvalue: datum\n\t\t}));\n\t}\n\n\tgetCircleRadius() {\n\t\treturn this.options.points.radius || Configuration.charts.points.radius;\n\t}\n\n\tgetCircleFill(radius, d) {\n\t\t// If the radius of the point is smaller than minimum\n\t\t// Or the chart is only a scatter chart\n\t\t// And not a line chart for instance\n\t\tconst circleShouldBeFilled = radius < Configuration.lines.points.minNonFilledRadius || this.constructor === ScatterChart;\n\t\tif (circleShouldBeFilled) {\n\t\t\treturn this.getStrokeColor(d.datasetLabel, d.label, d.value);\n\t\t}\n\t\t// returns null which discards any attribute allocations using return value\n\t\treturn null;\n\t}\n\n\tgetCircleFillOpacity() {\n\t\t// If the chart is only a scatter chart\n\t\t// And not a line chart for instance\n\t\tif (this.constructor === ScatterChart) {\n\t\t\treturn Configuration.options.SCATTER.points.fillOpacity;\n\t\t}\n\n\t\treturn null;\n\t}\n\n\tinterpolateValues(newData: any) {\n\t\tconst { line: margins } = Configuration.charts.margin;\n\t\tconst chartSize = this.getChartSize();\n\t\tconst width = chartSize.width - margins.left - margins.right;\n\t\tconst height = chartSize.height - this.getBBox(\".x.axis\").height;\n\n\t\t// Apply new data to the lines\n\t\tconst gDots = this.innerWrap.selectAll(\"g.dots\")\n\t\t\t.data(newData.datasets);\n\n\t\tthis.updateElements(true, gDots);\n\n\t\t// Add lines that need to be added now\n\t\tconst addedDotGroups = gDots.enter()\n\t\t\t.append(\"g\")\n\t\t\t.classed(\"dots\", true);\n\n\t\t// Add line circles\n\t\tconst circleRadius = this.getCircleRadius();\n\t\taddedDotGroups.selectAll(\"circle.dot\")\n\t\t\t.data((d, i) => this.addLabelsToDataPoints(d, i))\n\t\t\t.enter()\n\t\t\t\t.append(\"circle\")\n\t\t\t\t.attr(\"class\", \"dot\")\n\t\t\t\t.attr(\"cx\", (d, i) => this.x(d.label) + this.x.step() / 2)\n\t\t\t\t.attr(\"cy\", (d: any) => this.y(d.value))\n\t\t\t\t.attr(\"r\", circleRadius)\n\t\t\t\t.style(\"opacity\", 0)\n\t\t\t\t.transition(this.getDefaultTransition())\n\t\t\t\t.style(\"opacity\", 1)\n\t\t\t\t.attr(\"fill\", d => this.getCircleFill(circleRadius, d))\n\t\t\t\t.attr(\"fill-opacity\", d => this.getCircleFillOpacity())\n\t\t\t\t.attr(\"stroke\", d => this.getStrokeColor(d.datasetLabel, d.label, d.value));\n\n\t\t// Remove dots that are no longer needed\n\t\tgDots.exit()\n\t\t\t.classed(\"removed\", true)\n\t\t\t.transition(this.getDefaultTransition())\n\t\t\t.style(\"opacity\", 0)\n\t\t\t.remove();\n\n\t\t// Add slice hover actions, and clear any slice borders present\n\t\tthis.addDataPointEventListener();\n\n\t\t// Hide the overlay\n\t\tthis.chartOverlay.hide();\n\n\t\t// Dispatch the update event\n\t\tthis.dispatchEvent(\"update\");\n\t}\n\n\tupdateElements(animate: boolean, gDots?: any) {\n\t\tif (!gDots) {\n\t\t\tgDots = this.innerWrap.selectAll(\"g.dots\");\n\t\t}\n\n\t\tconst transitionToUse = animate ? this.getFillTransition() : this.getInstantTransition();\n\t\tconst self = this;\n\n\t\tconst circleRadius = this.getCircleRadius();\n\t\tgDots.selectAll(\"circle.dot\")\n\t\t\t.data(function(d, i) {\n\t\t\t\tconst parentDatum = select(this).datum() as any;\n\n\t\t\t\treturn self.addLabelsToDataPoints(parentDatum, i);\n\t\t\t})\n\t\t\t.transition(transitionToUse)\n\t\t\t.attr(\"cx\", d => this.x(d.label) + this.x.step() / 2)\n\t\t\t.attr(\"cy\", d => this.y(d.value))\n\t\t\t.attr(\"r\", circleRadius)\n\t\t\t.attr(\"fill\", d => this.getCircleFill(circleRadius, d))\n\t\t\t.attr(\"stroke\", d => this.getStrokeColor(d.datasetLabel, d.label, d.value));\n\t}\n\n\tresizeChart() {\n\t\tconst chartSize: any = this.getChartSize(this.container);\n\t\tconst dimensionToUseForScale = Math.min(chartSize.width, chartSize.height);\n\n\t\t// Resize the SVG\n\t\tselect(this.holder).select(\"svg\")\n\t\t\t\t.attr(\"width\", `${dimensionToUseForScale}px`)\n\t\t\t\t.attr(\"height\", `${dimensionToUseForScale}px`);\n\n\t\tthis.updateXandYGrid(true);\n\t\t// Scale out the domains\n\t\tthis.setXScale();\n\t\tthis.setYScale();\n\n\t\t// Set the x & y axis as well as their labels\n\t\tthis.setXAxis(true);\n\t\tthis.setYAxis(true);\n\n\t\tthis.updateElements(false, null);\n\n\t\tsuper.resizeChart();\n\t}\n\n\tsetXScale () {\n\t\tsuper.setXScale();\n\n\t\tthis.x.padding(0); // override BaseAxisChart padding so points aren't misaligned by a few pixels.\n\t}\n\n\tresetOpacity() {\n\t\tconst circleRadius = this.getCircleRadius();\n\t\tthis.innerWrap.selectAll(\"circle\")\n\t\t\t.attr(\"stroke-opacity\", Configuration.charts.resetOpacity.opacity)\n\t\t\t.attr(\"fill\", d => this.getCircleFill(circleRadius, d));\n\t}\n\n\treduceOpacity(exception) {\n\t\tconst circleRadius = this.getCircleRadius();\n\t\tselect(exception).attr(\"fill-opacity\", this.getCircleFillOpacity());\n\t\tselect(exception).attr(\"stroke-opacity\", Configuration.charts.reduceOpacity.opacity);\n\t\tselect(exception).attr(\"fill\", (d: any) => this.getCircleFill(circleRadius, d));\n\t}\n\n\taddDataPointEventListener() {\n\t\tconst self = this;\n\t\tconst { accessibility } = this.options;\n\t\tconst circleRadius = this.getCircleRadius();\n\n\t\tthis.svg.selectAll(\"circle.dot\")\n\t\t\t.on(\"click\", d => self.dispatchEvent(\"line-onClick\", d))\n\t\t\t.on(\"mouseover\", function(d) {\n\t\t\t\tselect(this)\n\t\t\t\t\t.attr(\"stroke-width\", Configuration.lines.points.mouseover.strokeWidth)\n\t\t\t\t\t.attr(\"stroke\", self.colorScale[d.datasetLabel](d.label))\n\t\t\t\t\t.attr(\"stroke-opacity\", Configuration.lines.points.mouseover.strokeOpacity)\n\t\t\t\t\t.style(\"fill\", self.colorScale[d.datasetLabel](d.label))\n\t\t\t\t\t.attr(\"fill-opacity\", Configuration.lines.points.mouseover.fillOpacity);\n\n\t\t\t\tself.showTooltip(d, this);\n\t\t\t})\n\t\t\t.on(\"mousemove\", d => self.tooltip.positionTooltip())\n\t\t\t.on(\"mouseout\", function(d) {\n\t\t\t\tconst { strokeWidth, strokeWidthAccessible } = Configuration.lines.points.mouseout;\n\t\t\t\tselect(this)\n\t\t\t\t\t.attr(\"stroke-width\", accessibility ? strokeWidthAccessible : strokeWidth)\n\t\t\t\t\t.attr(\"stroke\", self.colorScale[d.datasetLabel](d.label))\n\t\t\t\t\t.attr(\"stroke-opacity\", Configuration.lines.points.mouseout.strokeOpacity)\n\t\t\t\t\t.style(\"fill\", self.getCircleFill(circleRadius, d))\n\t\t\t\t\t.attr(\"fill-opacity\", self.getCircleFillOpacity());\n\n\t\t\t\tself.hideTooltip();\n\t\t\t});\n\t}\n}\n"]}